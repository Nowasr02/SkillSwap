{% extends "main/base.html" %}
{% load static %}

{% block title %}My Profile{% endblock %}

{% block content %}

<style>

:root{
    --bg: #ffffff;
    --muted: #6c757d;
    --text: #111827;
    --primary: #0d6efd;
    --card-bg: #f8f9fa;
    --surface: #ffffff;
    --border: #e9ecef;
    --radius-lg: 14px;
    --shadow-sm: 0 6px 18px rgba(16,24,40,0.04);
}

html, body {
    height: 100%;            
    box-sizing: border-box;
    font-family: system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    color: var(--text);
    background: var(--bg);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

*, *::before, *::after { box-sizing: inherit; }

.page-wrap {
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 0 auto;
}

.layout{
    display: flex;
    gap: 40px;
    align-items: flex-start;
    width: 100%;
    max-width: 1100px;    
    margin: 0 auto;      
    align-self: center;   
}

/* LEFT column */
.left{
    width: 320px;
    display:flex;
    flex-direction:column;
    gap:18px;
    align-items:flex-start;
}

/* avatar */
.avatar-wrap{
    width:120px;
    height:120px;
    border-radius:999px;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    background: linear-gradient(135deg, rgba(13,110,253,0.06), rgba(13,202,240,0.04));
    border: 3px solid rgba(13,110,253,0.12);
    box-shadow: var(--shadow-sm);
}

.avatar-img{ width:100%; height:100%; object-fit:cover; display:block; border-radius:999px; }

.joined{ font-size:13px; color:var(--muted); margin-top:6px; }

/* skills */
.skills-box{
    margin-top:6px;
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding:14px;
    width:220px;
    box-sizing:border-box;
    background: var(--surface);
    box-shadow: 0 4px 12px rgba(16,24,40,0.03);
}
.skills-title{ font-size:14px; font-weight:600; color:var(--text); margin-bottom:8px; }
.skills-inner{ display:flex; gap:10px; flex-wrap:wrap; }
.skill-tag{
    display:inline-flex; align-items:center; justify-content:center;
    border-radius:999px; padding:8px 12px; font-size:13px;
    background:linear-gradient(180deg, rgba(13,110,253,0.08), rgba(13,110,253,0.04));
    color:var(--primary); border:1px solid rgba(13,110,253,0.14);
    box-shadow: 0 2px 6px rgba(13,110,253,0.03);
}

/* RIGHT column */
.right{
    flex:1;
    display:flex;
    flex-direction:column;
    gap:18px;
    align-items:flex-start;
}

.edit-button{
    display:inline-block;
    padding:8px 14px;
    border-radius:10px;
    border: 1px solid rgba(13,110,253,0.18);
    background: var(--primary);
    color: #fff;
    font-weight:600;
    text-decoration:none;
    box-shadow: 0 8px 28px rgba(13,110,253,0.08);
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
    margin-left: 0;
}
.edit-button:hover{
    transform: translateY(-2px);
    box-shadow: 0 14px 40px rgba(13,110,253,0.10);
    opacity: .98;
}

.field{ width:420px; }
.input-placeholder{
    height:42px; border-radius:16px; padding:10px 18px; display:flex; align-items:center;
    box-sizing:border-box; font-size:14px; color:var(--text);
    background: linear-gradient(180deg, var(--card-bg), var(--surface));
    border: 1px solid var(--border);
    box-shadow: 0 6px 18px rgba(16,24,40,0.03);
}
.textarea-placeholder{
    height:120px; border-radius:12px; padding:12px 16px; box-sizing:border-box; font-size:14px; color:var(--text);
    background: linear-gradient(180deg, var(--card-bg), var(--surface));
    border: 1px solid var(--border);
    box-shadow: 0 6px 18px rgba(16,24,40,0.03);
    white-space: pre-wrap;
}

/* Responsive */
@media (max-width: 820px){
    .layout{ flex-direction:column; gap:18px; }
    .right .field{ width:100%; }
    .skills-box{ width:100%; }
    .left{ width:100%; flex-direction:row; align-items:center; gap:16px; }
    .avatar-wrap{ flex: 0 0 auto; }
}

</style>


<body>
    <div class="page-wrap">
        <div class="layout">
            <!-- LEFT COLUMN -->
            <div class="left">

                <div class="avatar-wrap">
                    {% if profile and profile.avatar %}
                    <img src="{{ profile.avatar.url }}" class="avatar-img" />
                    {% else %}
                    <img src="/static/images/default-avatar.png" class="avatar-img" />
                    {% endif %}
                </div>

                <div class="joined">
                    {# show formatted join date; if missing, leave blank (no extra text) #}
                    {% if profile.user.date_joined %}
                    joined {{ profile.user.date_joined|date:"M Y"|default:"" }}
                    {% endif %}
                </div>

                <div class="skills-box">
                    <div class="skills-title">my skills</div>

                    <div class="skills-inner">
                        {% for s in offered_skills %}
                        <span class="skill-tag">{{ s.skill }}</span>
                        {% empty %}
                        {% endfor %}
                    </div>

                </div>


            </div>

            <!-- RIGHT COLUMN -->
            <div class="right">
                <!-- <div class="edit-title">edit</div> -->
                 <a href="{% url 'accounts:profile_form' %}" class="edit-button">Edit</a>


                <div class="field">
                    <div class="input-placeholder">
                        {{ request.user.username }}
                    </div>
                </div>

                <div class="field">
                    <div class="input-placeholder">
                        {{ request.user.email }}
                    </div>
                </div>

                <div class="field">
                    <div class="input-placeholder">
                        {{ request.user.first_name }}
                    </div>
                </div>

                <div class="field">
                    <div class="input-placeholder">
                        {{ request.user.last_name }}
                    </div>
                </div>

                <div class="field">
                    <div class="textarea-placeholder">
                        {% if profile and profile.bio %}{{ profile.bio }}{% endif %}
                    </div>
                </div>

            </div>
        </div>
    </div>


    {% endblock %}